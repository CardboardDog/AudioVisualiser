<!DOCTYPE html>
<html>
<head>
  <title>AV 1.0222b</title>
</head>
<body id = "main">
  <canvas id = "render" style="width:100%; height:100%; background-size:100%; background-repeat:no-repeat; background-image: url('https://raw.githubusercontent.com/CardboardDog/AudioVisualiser/main/bg.png');"></canvas>
</body>
<script id = "VisualiserScript">
  var all = document.getElementById("main");
  main.style = "background-color:black;";
  var renderElement = document.getElementById("render");
  var render = renderElement.getContext("2D");
  
  
  async function get(){
    var stream = await navigator.mediaDevices.getUserMedia({video:false,audio:true})
    var audioContext = new AudioContext();
    var mediaStreamSource = await audioContext.createMediaStreamSource(stream);
    var meter = await createAudioMeter(audioContext);
    mediaStreamSource.connect(meter);
  };
  get();
</script>
</html>
