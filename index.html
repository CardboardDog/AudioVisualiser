<!DOCTYPE html>
<html>
<head>
  <title>AV 1.009b</title>
</head>
<body id = "main">
  <canvas id = "render" style="width:100%; height:100%; background-size:100%; background-repeat:no-repeat; background-image: url('https://raw.githubusercontent.com/CardboardDog/AudioVisualiser/main/bg.png');"></canvas>
</body>
<script id = "VisualiserScript">
  var all = document.getElementById("main");
  main.style = "background-color:black;";
  var renderElement = document.getElementById("render");
  var render = renderElement.getContext("2D");
  function getLocalStream() {
    navigator.mediaDevices.getUserMedia({video: false, audio: true}).then((stream) => {
        window.localStream = stream;
        window.localAudio.srcObject = stream;
        window.localAudio.autoplay = true;
    }).catch((err) => {
        console.error(`mic error: ${err}`)
    });
    getLocalStream();
  }
</script>
</html>
